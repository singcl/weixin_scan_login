var rbracket=/\[\]$/,op=Object.prototype,ap=Array.prototype,aeach=ap.forEach,ostring=op.toString;function isFunction(n){return"[object Function]"===ostring.call(n)}function isArray(n){return"[object Array]"===ostring.call(n)}function isObject(n){return"[object Object]"===ostring.call(n)}function buildParams(r,n,o,e){if(isArray(n))aeach.call(n,function(n,t){o||rbracket.test(r)?e(r,n):buildParams(r+"["+("object"==typeof n&&null!=n?t:"")+"]",n,o,e)});else if(!o&&isObject(n))for(var t in n)buildParams(r+"["+t+"]",n[t],o,e);else e(r,n)}export default function jollyparam(n,t){function r(n,t){t=isFunction(t)?t():t,e[e.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==t?"":t)}var o,e=[];if(isArray(n))aeach.call(n,function(n){r(n.name,n.value)});else for(o in n)buildParams(o,n[o],t,r);return e.join("&")}